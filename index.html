<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artale 經驗值時間效率計算機</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <button id="themeToggle" class="theme-toggle" aria-label="切換主題">
        <span class="theme-icon">☀️</span>
    </button>

    <div class="container">
        <header>
            <h1>楓之谷 Artale</h1>
            <h2>經驗值時間效率計算機</h2>
        </header>

        <main>
            <form id="calcForm" class="calc-form">
                <div class="form-group">
                    <label for="currentLevel">現在等級</label>
                    <input
                        type="number"
                        id="currentLevel"
                        min="1"
                        max="200"
                        required
                        placeholder="輸入現在等級"
                    >
                </div>

                <div class="form-group">
                    <label for="currentExp">現在EXP</label>
                    <input
                        type="number"
                        id="currentExp"
                        min="0"
                        required
                        placeholder="輸入現在經驗值"
                    >
                </div>

                <div class="form-group">
                    <label for="targetLevel">目標等級</label>
                    <input
                        type="number"
                        id="targetLevel"
                        min="1"
                        max="200"
                        required
                        placeholder="輸入目標等級"
                    >
                </div>

                <div class="form-group">
                    <label for="expEfficiency">現在每10分鐘經驗效率</label>
                    <div class="exp-unit-toggle">
                        <button type="button" id="unitMan" class="unit-btn active">單位:萬</button>
                        <button type="button" id="unitRegular" class="unit-btn">單位:1</button>
                    </div>
                    <input
                        type="number"
                        id="expEfficiency"
                        min="0"
                        step="0.1"
                        required
                        placeholder="輸入每10分鐘獲得的經驗值"
                    >
                </div>

                <!-- Advanced Options -->
                <div class="advanced-options">
                    <button type="button" id="advancedToggle" class="advanced-toggle">
                        <span>進階選項</span>
                        <span class="toggle-icon">▼</span>
                    </button>

                    <div id="advancedContent" class="advanced-content hidden">
                        <!-- Area 1: Always-on multipliers -->
                        <div class="advanced-section">
                            <h4>常駐經驗加成</h4>

                            <div class="radio-group">
                                <label>
                                    <input type="radio" name="holySymbol" value="none" checked>
                                    無 (0%)
                                </label>
                                <label>
                                    <input type="radio" name="holySymbol" value="alive">
                                    活7 (+50%)
                                </label>
                                <label>
                                    <input type="radio" name="holySymbol" value="dead">
                                    死7 (+25%)
                                </label>
                            </div>

                            <label class="checkbox-label">
                                <input type="checkbox" id="tauntBuff">
                                挑釁 (+30%)
                            </label>
                        </div>

                        <!-- Area 2: EXP Events -->
                        <div class="advanced-section">
                            <h4>限時經驗活動</h4>

                            <!-- EXP Coupon -->
                            <div class="event-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="expCoupon">
                                    經驗加倍券
                                </label>
                                <div id="couponOptions" class="event-options hidden">
                                    <div class="radio-group-inline">
                                        <label>
                                            <input type="radio" name="couponType" value="2x" checked>
                                            2x (+100%)
                                        </label>
                                        <label>
                                            <input type="radio" name="couponType" value="3x">
                                            3x (+200%)
                                        </label>
                                    </div>
                                    <label class="input-label">
                                        剩餘幾張:
                                        <input type="number" id="couponCount" value="0" class="small-input">
                                        (加倍券1張=30分鐘)
                                    </label>
                                </div>
                            </div>

                            <!-- Weather Event -->
                            <div class="event-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="weatherEvent">
                                    每日氣場15次
                                </label>
                                <div id="weatherOptions" class="event-options hidden">
                                    <div class="radio-group-inline">
                                        <label>
                                            <input type="radio" name="weatherType" value="2x" checked>
                                            2x (+100%)
                                        </label>
                                        <label>
                                            <input type="radio" name="weatherType" value="3x">
                                            3x (+200%)
                                        </label>
                                    </div>
                                    <label class="input-label">
                                        剩餘次數:
                                        <input type="number" id="weatherTimes" min="0" value="0" class="small-input">
                                        (每次2x15=30分鐘)
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <button type="submit" class="btn-calculate">計算</button>
            </form>

            <div id="results" class="results hidden">
                <h3>計算結果</h3>
                <div class="result-item">
                    <span class="result-label">起始等級:</span>
                    <span id="startLevel" class="result-value">0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">目標等級:</span>
                    <span id="endLevel" class="result-value">0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">所需總經驗值:</span>
                    <span id="totalExp" class="result-value">0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">常駐經驗加成:</span>
                    <span id="regularBonus" class="result-value">0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">預計所需時間:</span>
                    <span id="timeNeeded" class="result-value">0</span>
                </div>
                <div id="eventTimeBreakdown" class="event-breakdown hidden">
                    <!-- Dynamic event phase breakdown will be inserted here -->
                </div>
            </div>
        </main>

        <footer>
            <p>楓之谷 Artale 經驗值計算工具</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
